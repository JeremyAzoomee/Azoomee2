<!DOCTYPE HTML>
	<head>
		<title>JW Player</title>
		<link rel="stylesheet" type="text/css" href="style.css">
	</head>
	<body bgcolor="black">
		<script src="./jwplayer/jwplayer.js"></script>
		<script>jwplayer.key="BwwBSuXdS5gq/y1wfVzLoplRmFNIiRxUmmVA4PcvyYL3EkiA";</script>

		<div id="videoPlayer"></div>
		<script type="text/javascript">
			var sent0 = false;
			var sent25 = false;
			var sent50 = false;
			var sent75 = false;

			startBuildingPlayer();

			function startBuildingPlayer()
			{
				var playerInstance = jwplayer("videoPlayer");

				var playList = [];

				for(var i = 0; i < 6; i++)
				{
					playList.push({file: "http://localhost/example.mov", mediaid: "episode", image: "http://localhost/play.png"});
				}

				playerInstance.setup
				({
					stretching: "exactfit",
					height: "100%",
					width: "100%",
					repeat: false,

					playlist: playList
				});

				jwplayer().on('error', function(event){
					console.log("error");
				});

				jwplayer().on('setupError', function(event){
					console.log("setuperror");
				});

				jwplayer().on('play', function(event){
					if(document.getElementById("loadingPage"))
					{
						//var loadingScreen = document.getElementById("loadingPage");
						//loadingScreen.parentElement.removeChild(loadingScreen);
					}

					console.log("playing");
				});

				jwplayer().on('ready', function(event){
					startPlayBack();
				});

					jwplayer().on('pause', function(event){
					console.log("paused");
				});

				jwplayer().on('visualQuality', function(event){
					var currentQuality = jwplayer().getVisualQuality().level;
					console.log("qualitychanged");
				});

				jwplayer().on('time', function(event){
					var totalDuration = jwplayer().getDuration();
					var currentPosition = jwplayer().getPosition();

					var percentage = currentPosition / totalDuration * 100;

					if((percentage > 0)&&(!sent0))
					{
						sent0 = true;
						console.log("time 0");
					}
					if((percentage > 25)&&(!sent25))
					{
						sent25 = true;
						console.log("time 25");
					}
					if((percentage > 50)&&(!sent50))
					{
						sent50 = true;
						console.log("time 50");
					}
					if((percentage > 75)&&(!sent75))
					{
						sent75 = true;
						console.log("time 75");
					}
				});

				jwplayer().on('complete', function(event){
					console.log("time 100");
				});

				jwplayer().on('playlistItem', function(event){
					console.log("new item: " + event.index);
				});
			}


			function startPlayBack()
			{
				jwplayer().play(true);
			}
</script>
		<div id="loadingPage">
			<div id="loadingArea">
				<img src="./circle_1.png" id="circle1">
				<img src="./circle_1.png" id="circle2">
				<img src="./load.png" id="loadingText">
			</div>
		</div>
	</body>
</html>
